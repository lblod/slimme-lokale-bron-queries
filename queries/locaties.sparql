PREFIX sro: <https://data.vlaanderen.be/ns/slimmeraadpleegomgeving#>
PREFIX locn: <http://www.w3.org/ns/locn#>
PREFIX geosparql: <http://www.opengis.net/ont/geosparql#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX besluit: <http://data.vlaanderen.be/ns/besluit#>

SELECT ?agendaItem ?address ?geometry ?wkt
WHERE {
  GRAPH <http://mu.semte.ch/graphs/public> {

    # Select agenda items that have a linked location
    ?agendaItem a besluit:Agendapunt ;
                sro:heeftLocatie ?address .

    # Optional: fetch the corresponding Address resource
    OPTIONAL {
      ?address rdf:type locn:Address ;
               locn:geometry ?geometry .
    }

    # Optional: fetch the geometry and its WKT literal
    OPTIONAL {
      ?geometry rdf:type locn:Geometry ;
                geosparql:asWKT ?wkt .
    }
  }
}
